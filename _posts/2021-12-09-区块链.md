# 一、比特币

- 创建了无需信任中心的货币发行机制；
- 发行数量由程序决定，无法随意修改；
- 交易账本完全公开可追溯，不可篡改；
- 密码学理论保证货币防伪造，防双花；
- 数字签名机制保证交易完整可信，不可抵赖和撤销。

<br>

# 二、区块链

## 原理

区块链就是一个不断增长的全网总账本，每个完全节点都拥有完整的区块链，并且，节点总是信任最长的区块链，伪造区块链需要拥有超过 51% 的全网算力。

每个区块都有一个唯一的哈希标识，被称为区块哈希，同时，区块通过记录上一个区块的哈希来指向上一个区块：

![l](C:\Users\tm\Desktop\SSE-team\SSE-TEE\l.jpg)

每一个区块还有一个 Merkle 哈希用来确保该区块的所有交易记录无法被篡改。

区块链的不可篡改特性是由哈希算法保证的。

比特币使用两种哈希算法，一种是对数据进行两次 SHA-256 计算，这种算法在比特币协议中通常被称为 hash256或者 dhash。

另一种算法是先计算 SHA-256，再计算 RipeMD160，这种算法在比特币协议中通常被称为 hash160。

<br>

### 区块链不可篡改特性

#### Merkle Hash

Merkle Hash 是把一系列数据的哈希根据一个简单算法变成一个汇总的哈希。

![360截图20211209103350075](C:\Users\tm\Desktop\SSE-team\SSE-TEE\360截图20211209103350075.jpg)

假设一个区块共有 4 个交易 tx1, tx2, tx3, tx4，则根据上图来计算 merkle hash。如果某一步计算中只有一条记录，则将其自己复制一份拼起来进行计算。

从Merkle Hash的计算方法可以得出结论：修改任意一个交易哪怕一个字节，或者交换两个交易的顺序，都会导致Merkle Hash验证失败，也就会导致这个区块本身是无效的，所以，Merkle Hash记录在区块头部，它的作用就是保证交易记录永远无法修改。

<br>

#### Block Hash

![l](C:\Users\tm\Desktop\SSE-team\SSE-TEE\l.png)

区块本身用Block Hash——也就是区块哈希来标识。但是，一个区块自己的区块哈希并没有记录在区块头部，而是通过计算区块头部的哈希得到的。

区块头部的Prev Hash记录了上一个区块的Block Hash，这样，可以通过Prev Hash追踪到上一个区块。

由于下一个区块的Prev Hash又会指向当前区块，这样，每个区块的Prev Hash都指向自己的上一个区块，这些区块串起来就形成了区块链。

如果一个恶意的攻击者修改了一个区块中的某个交易，那么Merkle Hash验证就不会通过。所以，他只能重新计算Merkle Hash，然后把区块头的Merkle Hash也修改了。这时，我们就会发现，这个区块本身的Block Hash就变了，所以，下一个区块指向它的链接就断掉了。因此，攻击者必须先重新计算这个区块的Block Hash，然后，再把后续所有区块全部重新计算并且伪造出来，才能够修改整个区块链。